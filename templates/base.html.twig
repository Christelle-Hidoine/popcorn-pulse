<!doctype html>
<html lang="fr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        <link rel="stylesheet" href="{{ asset('css/style.css') }}">
        <link rel="shortcut icon" href="{{ asset('favicon.png') }}" type="image/x-icon">
        <title>{% block title %}O'flix{% endblock %}</title>
    </head>

    <body>

        {% if app.request.attributes.get("_route") starts with "app_back_" %}
            {% include 'back/partials/_nav.html.twig' %}
        {% else %}  
            {% include 'front/partials/_nav.html.twig' %}
        {% endif %}

        {% include "back/partials/_flash.html.twig" %}

        {% block body %}{% endblock %}
    </body>

    {% if 'app_back' in app.request.get('_route') %}    
    <footer class="container-fluid py-4 border-top text-center">
        <span class="text-muted">O'flix made with &hearts; !
            <br><small>Thème :<a href="{{ path('add_theme') }}" class="link-secondary text-decoration-none"><i class="bi bi-toggle-on mx-1"></i>Netflix</a></small></a>
        </span>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

    {% else %}
    {% set theme = app.session.get('theme') %}
   
    <footer class="container-fluid py-4 border-top text-center">
        <span class="text-muted">O'flix made with &hearts; !
            <br><small>Thème :<a href="{{ path('add_theme') }}" class="link-secondary text-decoration-none"><i class="bi bi-toggle-on mx-1"></i>{{ theme == 'Allocine' ? '<span class="badge bg-warning text-dark">Allociné</span>' : '<span class="badge bg-black text-white">Netflix</span>' }}</a></small></a>
        </span>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

    {% endif %}
</html>
